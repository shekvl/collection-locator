(function(e){function t(t){for(var a,n,s=t[0],l=t[1],c=t[2],d=0,h=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&h.push(o[n][0]),o[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(h.length)h.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,s=1;s<r.length;s++){var l=r[s];0!==o[l]&&(a=!1)}a&&(i.splice(t--,1),e=n(n.s=r[0]))}return e}var a={},o={app:0},i=[];function n(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"24d9":function(e,t,r){"use strict";r("377d")},"377d":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"blue darken-4",dark:""}},[r("div",{staticClass:"d-flex align-center"},[r("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:"https://www.aau.at/wp-content/uploads/2015/09/aau-logo-300x110-300x110without-background3.png",transition:"scale-transition",width:"120"}}),r("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Name",contain:"","min-width":"50",src:"https://upload.wikimedia.org/wikipedia/en/thumb/4/4c/University_of_Klagenfurt%2C_seal%2C_2014.png/220px-University_of_Klagenfurt%2C_seal%2C_2014.png",width:"60"}})],1),r("v-spacer"),r("v-btn",{attrs:{href:"https://www.aau.at/",target:"_blank",text:""}},[r("span",{staticClass:"mr-2"},[e._v("Blend Dehari & Patrick Eisenkeil - Universität Klagenfurt")]),r("v-icon",[e._v("mdi-open-in-new")])],1)],1),r("v-main",[r("div",[r("QueryComponent",{on:{"on-item-selected":function(t){e.dropdownSelection=t},"on-item-reset":function(t){e.dropdownSelection={}}}})],1)])],1)},i=[],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("ErrorAlert",{model:{value:e.errorTitle,callback:function(t){e.errorTitle=t},expression:"errorTitle"}},[e._v(e._s(e.errorDetail))]),r("ErrorAlert",{attrs:{type:"success"},model:{value:e.successTitle,callback:function(t){e.successTitle=t},expression:"successTitle"}},[e._v(e._s(e.successDetail))]),r("v-overlay",{attrs:{value:e.isLoading}},[r("v-progress-circular",{attrs:{indeterminate:"",size:"64",color:"primary"}})],1),r("v-sheet",{class:e.rangeQuery?"rangeQuerySheet":"pointQuerySheet",attrs:{color:"#78909Cad",elevation:"2",rounded:""}},[e.isLoading?r("div",[r("div",e._l(e.inputs,(function(e,t){return r("v-skeleton-loader",{key:t,staticStyle:{margin:"1.5em"},attrs:{"max-width":"200%","min-width":"200%",type:"heading",fluid:""}})})),1)]):e._l(e.inputs,(function(t,a){return r("div",{key:a},[r("v-form",{ref:"form",refInFor:!0,class:e.rangeQuery?"formExpand":"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",{staticClass:"container"},[r("v-row",{staticStyle:{"margin-left":"-2em","align-self":"auto"}},[r("v-col",{staticClass:"mt-2"},[r("v-text-field",{attrs:{required:"",label:"Attribute name",solo:"",rules:e.rules,"error-messages":e.errorTexts},model:{value:t.name,callback:function(r){e.$set(t,"name",r)},expression:"input.name"}})],1),r("v-col",{staticClass:"mt-2"},[r("v-combobox",{attrs:{clearable:"",items:e.currentLoincList,"item-text":function(e){return e.loincnum+" ("+e.loinccomponent+")"},"item-value":function(e){return e.loincnum},label:"Search LOINC codes",solo:"","prepend-inner-icon":"mdi-magnify","return-object":"",required:"",rules:e.rules,"error-messages":e.loincErrorTexts},on:{blur:function(t){return e.checkLoincInput(a)},change:function(t){return e.searchLoinc(t)}},scopedSlots:e._u([{key:"selection",fn:function(t){var a=t.attrs,o=t.item,i=t.selected;return[o===Object(o)?r("v-chip",e._b({attrs:{color:"lighten-3","input-value":i,label:"",small:""}},"v-chip",a,!1),[r("span",[e._v(" "+e._s(o.loincnum)+" ("+e._s(o.loinccomponent)+") ")])]):e._e()]}}],null,!0),model:{value:t.loincCode,callback:function(r){e.$set(t,"loincCode",r)},expression:"input.loincCode"}})],1),r("v-col",{staticClass:"mt-2"},[r("v-text-field",{attrs:{label:e.rangeQuery?"FROM value":"Value",solo:"",rules:e.rules,"error-messages":e.errorTexts,required:""},model:{value:t.value.fromValue,callback:function(r){e.$set(t.value,"fromValue",r)},expression:"input.value.fromValue"}})],1),r("v-col",{staticClass:"mt-2"},[r("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.rangeQuery,expression:"rangeQuery"}],attrs:{label:"TO value",solo:"",rules:e.rules,"error-messages":e.errorTexts,required:""},model:{value:t.value.toValue,callback:function(r){e.$set(t.value,"toValue",r)},expression:"input.value.toValue"}}),r("hr",{staticStyle:{height:"10px",visibility:"hidden"}}),r("span",{directives:[{name:"show",rawName:"v-show",value:!e.rangeQuery,expression:"!rangeQuery"}],staticClass:"helperIcons"},[r("i",{directives:[{name:"show",rawName:"v-show",value:a||!a&&e.inputs.length>1,expression:"index || (!index && inputs.length > 1)"}],staticClass:"round",on:{click:function(t){return e.remove(a)}}},[r("v-icon",{staticStyle:{"margin-right":"0px"}},[e._v("mdi-minus")])],1),r("i",{directives:[{name:"show",rawName:"v-show",value:a==e.inputs.length-1,expression:"index == inputs.length - 1"}],staticClass:"round",on:{click:function(t){return e.add(a)}}},[r("v-icon",{staticStyle:{"margin-right":"0px"}},[e._v("mdi-plus")])],1)])],1),r("v-col",{directives:[{name:"show",rawName:"v-show",value:e.rangeQuery,expression:"rangeQuery"}],staticClass:"mt-2",attrs:{col:"6",md:"2"}},[r("hr",{staticStyle:{height:"10px",visibility:"hidden"}}),r("span",{staticClass:"helperIcons"},[r("i",{directives:[{name:"show",rawName:"v-show",value:a||!a&&e.inputs.length>1,expression:"index || (!index && inputs.length > 1)"}],staticClass:"round",on:{click:function(t){return e.remove(a)}}},[r("v-icon",{staticStyle:{"margin-right":"0px"}},[e._v("mdi-minus")])],1),r("i",{directives:[{name:"show",rawName:"v-show",value:a==e.inputs.length-1,expression:"index == inputs.length - 1"}],staticClass:"round",on:{click:function(t){return e.add(a)}}},[r("v-icon",{staticStyle:{"margin-right":"0px"}},[e._v("mdi-plus")])],1)])])],1)],1)],1),r("br")],1)}))],2),r("br"),r("v-sheet",{staticStyle:{"margin-left":"200px","margin-right":"200px",padding:"1.5em"},attrs:{color:"#78909Cad",elevation:"2",height:"120",rounded:""}},[e.isLoading?r("div",[r("div",[r("v-skeleton-loader",{staticClass:"fancyButtonSkeleton",staticStyle:{display:"flex","flex-wrap":"wrap","flex-direction":"row"},attrs:{"max-width":"100%","min-width":"100%",type:"button@5",fluid:""}})],1)]):r("div",{staticClass:"center-screen"},[r("v-btn",{staticClass:"fancyButton",attrs:{elevation:"2",raised:""},on:{click:function(t){return e.submit()}}},[r("v-icon",{staticStyle:{"margin-right":"0px"}},[e._v("mdi-magnify")]),e._v("Search ")],1),r("v-btn",{staticClass:"fancyButton",attrs:{elevation:"2",raised:""},on:{click:function(t){return e.clearQueryData()}}},[r("v-icon",{staticStyle:{"margin-right":"0px"}},[e._v("mdi-table-row-remove")]),e._v("Clear Query Data ")],1),r("v-btn",{staticClass:"fancyButton",attrs:{elevation:"2",raised:""},on:{click:function(t){return e.simulatePatrickSendingData()}}},[r("v-icon",{staticStyle:{"margin-right":"0px"}},[e._v("mdi-lan-pending")]),e._v(" Simulate biobanks sending data ")],1),r("v-btn",{staticClass:"fancyButton",attrs:{elevation:"2",raised:""},on:{click:e.toggleThreshold}},[r("v-icon",{staticStyle:{"margin-right":"0px"}},[e._v("mdi-tune")]),e._v(" Choose Thresholds ")],1),r("v-switch",{staticClass:"fancySwitch",attrs:{dark:"",inset:"",label:"Range Query"},model:{value:e.rangeQuery,callback:function(t){e.rangeQuery=t},expression:"rangeQuery"}})],1),r("v-dialog",{attrs:{"max-width":"600",transition:"dialog-bottom-transition"},model:{value:e.showThreshold,callback:function(t){e.showThreshold=t},expression:"showThreshold"}},[r("v-card",{directives:[{name:"show",rawName:"v-show",value:e.showThreshold,expression:"showThreshold"}],staticStyle:{width:"600px",margin:"auto"},attrs:{elevation:"2"}},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:"",height:"50px"}},[e._v("Choose your desired thresholds below")]),r("div",{staticStyle:{padding:"60px 50px 30px 50px"}},[r("v-label",[e._v("Overall expected hit ratio")]),e._v(" "),r("br"),r("v-btn",{staticStyle:{margin:"10px 0px 40px 0px"},attrs:{rounded:"",outlined:""},on:{click:function(t){e.overallExpectedHitThreshold=!e.overallExpectedHitThreshold}}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-pencil ")]),e._v(" "+e._s(e.overallExpectedHitThreshold?"Hide thresholds":"Show thresholds")+" ")],1),r("v-slider",{directives:[{name:"show",rawName:"v-show",value:e.overallExpectedHitThreshold,expression:"overallExpectedHitThreshold"}],attrs:{label:"😄 Good values","thumb-label":"always",max:"100",min:"0","persistent-hint":"",hint:"Values over this threshold would be considered good results.",color:"green","track-color":"green","thumb-color":"green"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[e._v(" "+e._s(r)+"% ")]}}]),model:{value:e.thresholdGoodValues,callback:function(t){e.thresholdGoodValues=t},expression:"thresholdGoodValues"}}),r("br"),r("br"),r("v-slider",{directives:[{name:"show",rawName:"v-show",value:e.overallExpectedHitThreshold,expression:"overallExpectedHitThreshold"}],attrs:{label:"🙂 Okay values","thumb-label":"always",max:"100",min:"0","persistent-hint":"",hint:"Values in between this threshold and the threshold above would be considered okay-ish results. Values below this threshold would be considered bad results 🙁 (and will be shown with color red).",color:"orange","track-color":"orange","thumb-color":"orange"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[e._v(" "+e._s(r)+"% ")]}}]),model:{value:e.thresholdOkayValues,callback:function(t){e.thresholdOkayValues=t},expression:"thresholdOkayValues"}}),r("br"),r("br"),r("v-label",[e._v("Hit ratio per LOINC")]),e._v(" "),r("br"),r("v-btn",{staticStyle:{margin:"10px 0px 40px 0px"},attrs:{rounded:"",outlined:""},on:{click:function(t){e.overallExpectedHitsPerLoincThreshold=!e.overallExpectedHitsPerLoincThreshold}}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-pencil ")]),e._v(" "+e._s(e.overallExpectedHitsPerLoincThreshold?"Hide thresholds":"Show thresholds")+" ")],1),r("v-slider",{directives:[{name:"show",rawName:"v-show",value:e.overallExpectedHitsPerLoincThreshold,expression:"overallExpectedHitsPerLoincThreshold"}],attrs:{label:"😄 Good values","thumb-label":"always",max:"100",min:"0","persistent-hint":"",hint:"Values over this threshold would be considered good results.",color:"green","track-color":"green","thumb-color":"green"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[e._v(" "+e._s(r)+"% ")]}}]),model:{value:e.thresholdGoodValuesPerLoinc,callback:function(t){e.thresholdGoodValuesPerLoinc=t},expression:"thresholdGoodValuesPerLoinc"}}),r("br"),r("br"),r("v-slider",{directives:[{name:"show",rawName:"v-show",value:e.overallExpectedHitsPerLoincThreshold,expression:"overallExpectedHitsPerLoincThreshold"}],attrs:{label:"🙂 Okay values","thumb-label":"always",max:"100",min:"0","persistent-hint":"",hint:"Values in between this threshold and the threshold above would be considered okay-ish results. Values below this threshold would be considered bad results 🙁 (and will be shown with color red).",color:"orange","track-color":"orange","thumb-color":"orange"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var r=t.value;return[e._v(" "+e._s(r)+"% ")]}}]),model:{value:e.thresholdOkayValuesPerLoinc,callback:function(t){e.thresholdOkayValuesPerLoinc=t},expression:"thresholdOkayValuesPerLoinc"}}),r("br"),r("br"),r("v-text-field",{attrs:{required:"",color:"green",label:"Overall expected hits",hint:"Values over this threshold will be considered good results and will appear with the color green.","persistent-hint":"",type:"number"},model:{value:e.thresholdExpectedHits,callback:function(t){e.thresholdExpectedHits=t},expression:"thresholdExpectedHits"}}),r("br"),r("br"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.toggleThreshold}},[e._v(" Close ")])],1)],1)],1)],1),r("div",{staticStyle:{margin:"2em","z-index":"0"}},[r("h3",{directives:[{name:"show",rawName:"v-show",value:e.datasetsLoaded&&!e.isLoading,expression:"datasetsLoaded && !isLoading"}],staticStyle:{color:"white"}},[e._v("Time: "+e._s(e.queryTime)+" seconds ("+e._s((e.queryTime/60).toFixed(2))+" minutes)")]),e.isLoading?r("div",[r("div",[r("v-skeleton-loader",{staticClass:"mx-auto",attrs:{"max-width":"100%",type:"heading, table-row-divider@15, table-tfoot",fluid:""}})],1)]):e._e(),e.datasetsLoaded&&!e.isLoading?r("v-data-table",{staticStyle:{"margin-top":"10px"},attrs:{id:"rankingTable",headers:e.headers2,items:e.datasets,"single-expand":!1,expanded:e.expanded,"item-key":"collectionId","show-expand":"","disable-sort":""},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-toolbar-title",[e._v("Ranked Results")]),r("v-spacer")],1)]},proxy:!0},{key:"item.overallPercentage",fn:function(t){var a=t.value;return[r("td",{staticClass:"d-flex justify-center"},[r("v-chip",{staticStyle:{margin:"10px"},attrs:{color:e.getColor(100*a),dark:""}},[e._v(" "+e._s(parseFloat(100*a).toFixed(2))+"% ")])],1)]}},{key:"item.overallExpectedRows",fn:function(t){var a=t.item;return[r("td",{staticClass:"d-flex justify-center"},[r("v-chip",{staticStyle:{margin:"10px"},attrs:{color:e.getColorForExpectedHits(a.overallExpectedRows),dark:""}},[e._v(" "+e._s(Math.round(a.overallExpectedRows))+" ")])],1)]}},{key:"expanded-item",fn:function(t){var a=t.headers,o=t.item;return[r("td",{attrs:{colspan:a.length}},[r("v-row",[r("v-col",{attrs:{cols:"12",md:"12"}},[r("h4",{staticClass:"text",staticStyle:{display:"inline"}},[e._v("Expected hits per LOINC: ")]),e._l(o.goodHits,(function(t,a){return r("v-chip",{key:a,staticStyle:{margin:"10px"},attrs:{dark:""}},[r("v-chip",{staticClass:"ma-2",attrs:{small:"",color:"white",outlined:""}},[e._v(e._s(t.code)+": ")]),e._v(" "+e._s(Math.round(t.revisedNumberOfRows)))],1)}))],2)],1),r("v-divider"),r("v-row",[r("v-col",{attrs:{cols:"12",md:"12"}},[r("h4",{staticClass:"text",staticStyle:{display:"inline","margin-right":"50px"}},[e._v("Hit ratio per LOINC: ")]),e._l(o.goodHits,(function(t,a){return r("v-chip",{key:a,staticStyle:{margin:"10px"},attrs:{color:e.getColorPerLoinc(100*t.goodValuesInPercentage),dark:""}},[r("v-chip",{staticClass:"ma-2",attrs:{small:"",color:"white",outlined:""}},[e._v(e._s(t.code)+": ")]),e._v(" "+e._s(parseFloat(100*t.goodValuesInPercentage).toFixed(2))+"% ")],1)}))],2)],1),r("v-divider",{staticStyle:{"margin-bottom":"10px"}}),r("v-row",[r("v-col",{staticStyle:{"margin-bottom":"10px"},attrs:{cols:"12",md:"6"}},[r("h4",{staticClass:"text",staticStyle:{display:"inline"}},[e._v("Full collection? ")]),r("v-icon",{directives:[{name:"show",rawName:"v-show",value:!o.definitionId,expression:"!item.definitionId"}],attrs:{color:"green"}},[e._v("mdi-checkbox-marked-circle")]),r("v-icon",{directives:[{name:"show",rawName:"v-show",value:o.definitionId,expression:"item.definitionId"}],attrs:{color:"red"}},[e._v("mdi-close-circle")])],1)],1)],1)]}}],null,!1,3904890088)}):e._e()],1),r("v-footer",{ref:"footer",staticClass:"footer",attrs:{absolute:!0,padless:!0}},[r("h6",{staticStyle:{"margin-left":"10px","font-family":"'Arial'"}},[e._v("Master Thesis at University of Klagenfurt")]),r("v-spacer"),r("h6",[e._v("Author: Blend Dehari (blendde@edu.aau.at)")]),r("v-spacer"),r("h6",{staticStyle:{"margin-right":"10px","font-family":"'Arial'"}},[e._v("All rights reserved.")])],1)],1)},s=[],l=r("53ca"),c=r("2909"),u=r("b85c"),d=r("1da1"),h=(r("96cf"),r("a434"),r("b0c0"),r("99af"),r("bc3a")),v=r.n(h),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-alert",{staticClass:"notification",staticStyle:{"border-radius":"0",position:"sticky"},attrs:{prominent:"",flat:"",dismissible:"",value:e.visible,"v-if":e.visible,type:e.type},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("div",{staticClass:"title"},[e._v(e._s(this.value))]),r("div",{staticClass:"detail"},[e._t("default")],2)])},m=[],f={name:"ErrorAlert",props:{type:{type:String,default:"error"},value:{type:String}},data:function(){return{visible:!1}},watch:{value:function(e){this.visible=!!e},visible:function(e){if(!e)return this.close();setTimeout(this.close,5e3)}},methods:{close:function(){this.visible=!1,this.$emit("input",null)}},mounted:function(){this.visible=!!this.value}},g=f,b=(r("24d9"),r("2877")),x=r("6544"),w=r.n(x),y=r("0798"),k=Object(b["a"])(g,p,m,!1,null,"f2441368",null),_=k.exports;w()(k,{VAlert:y["a"]});var V={name:"QueryComponent",components:{ErrorAlert:_},data:function(){return{url:"http://localhost:5001",valid:!0,isLoading:!1,errorTitle:"",errorDetail:"",successTitle:null,successDetail:null,rules:[function(e){return!!e||"Required"}],errorTexts:"",loincErrorTexts:"",inputs:[{name:"",loincCode:"",value:{fromValue:"",toValue:""}}],rangeQuery:!1,fullPage:!0,loincCodes:[],loincsLoaded:!1,currentLoincList:[],datasetsLoaded:!1,datasets:[],showThreshold:!1,thresholdGoodValues:50,thresholdOkayValues:25,thresholdGoodValuesPerLoinc:50,thresholdOkayValuesPerLoinc:25,detailedView:!1,thresholdExpectedHits:0,expanded:[],overallExpectedHitThreshold:!1,overallExpectedHitsPerLoincThreshold:!1,queryTime:"",temporaryFakeDatasets:[{biobankId:"biobank_6",collectionId:"collection_6",numberOfRows:46,goodHits:[{code:"10156-8",goodValuesInPercentage:.0625,revisedNumberOfRows:2.875}],overallPercentage:.0625,overallExpectedRows:2.875},{biobankId:"biobank_1",collectionId:"collection_1",numberOfRows:15,goodHits:[{code:"10156-8",goodValuesInPercentage:.1111111111111111,revisedNumberOfRows:1.6666666666666665}],overallPercentage:.1111111111111111,overallExpectedRows:1.6666666666666665}],headers:[{text:"Collection ID",value:"collectionId",align:"center",width:"200"},{text:"Biobank name",value:"biobankId",align:"center",width:"200"},{text:"Number of rows matched",value:"numberOfRows",align:"center",width:"300"},{text:"Overall hit ratio",value:"overallPercentage",align:"center",width:"300"},{text:"Overall expected hits",value:"overallExpectedRows",align:"center",width:"300"},{text:"Expected hits per LOINC",value:"revisedRows",align:"center",width:"400"},{text:"Hit ratio per LOINC",value:"probability",width:"400",align:"center"}],headers2:[{text:"Collection ID",value:"collectionId",align:"center"},{text:"Biobank name",value:"biobankId",align:"center"},{text:"Number of rows matched",value:"numberOfRows",align:"center"},{text:"Overall hit ratio",value:"overallPercentage",align:"center"},{text:"Overall expected hits",value:"overallExpectedRows",align:"center"}]}},methods:{add:function(){this.inputs.push({name:"",loincCode:"",value:{fromValue:"",toValue:""}})},remove:function(e){this.inputs.splice(e,1)},simulatePatrickSendingData:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.a.post("".concat(e.url,"/api/saveData"));case 2:case"end":return t.stop()}}),t)})))()},consoleLog:function(){var e,t=Object(u["a"])(this.inputs);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.value.toValue&&this.rangeQuery||(r.value["toValue"]=r.value["fromValue"])}}catch(a){t.e(a)}finally{t.f()}console.log(this.inputs)},toggleQueryType:function(){this.rangeQuery=!this.rangeQuery},validateForm:function(){var e,t=this,r=Object(u["a"])(this.inputs);try{for(r.s();!(e=r.n()).done;){var a=e.value;if(""===a.name||""===a.loincCode||""===a.value.fromValue||""===a.value.toValue)throw this.valid=!1,this.errorTexts="Required",this.loincErrorTexts="Required",setTimeout((function(){return t.errorTexts=""}),2e3),setTimeout((function(){return t.loincErrorTexts=""}),2e3),"Please fill in all the fields!"}}catch(o){r.e(o)}finally{r.f()}},submit:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var r,a,o,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e.isLoading=!0,e.queryTime=new Date,r=Object(u["a"])(e.inputs);try{for(r.s();!(a=r.n()).done;)o=a.value,o.value.toValue&&e.rangeQuery||(o.value["toValue"]=o.value["fromValue"])}catch(s){r.e(s)}finally{r.f()}return e.validateForm(),i=Object(c["a"])(e.inputs),console.log("DATA TO BACKEND",i),t.next=10,v.a.post("".concat(e.url,"/api/data"),i);case 10:n=t.sent,e.datasetsLoaded=!0,e.datasets=n.data,console.log("RESULTS FROM BACKEND",e.datasets),e.successTitle="Query matched successfully!",e.successDetail="See ranked results in the table below",setTimeout((function(){return e.successTitle=""}),4e3),setTimeout((function(){return e.successDetail=""}),4e3),e.isLoading=!1,e.queryTime=(new Date-e.queryTime)/1e3,t.next=29;break;case 22:t.prev=22,t.t0=t["catch"](0),e.isLoading=!1,e.datasetsLoaded=!1,"Please fill in all the fields!"===t.t0?e.errorTitle="Something went wrong!":e.errorTitle="Could not find matches for your query!",console.log("ERROR HERE",t.t0),t.t0.response?e.errorDetail=t.t0.response.data.error:e.errorDetail=t.t0;case 29:case"end":return t.stop()}}),t,null,[[0,22]])})))()},searchLoinc:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,console.log("search LOINC:",e),a=e,"string"!=typeof a){r.next=8;break}return r.next=6,v.a.get("".concat(t.url,"/api/loinc?code=").concat(a));case 6:o=r.sent,200===(null===o||void 0===o?void 0:o.status)&&(t.currentLoincList=o.data);case 8:r.next=17;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log("comes here?"),console.log(r.t0),t.currentLoincList=[],t.loincErrorTexts="LOINC code does not exist! Please try another one.",setTimeout((function(){return t.loincErrorTexts=""}),4e3);case 17:case"end":return r.stop()}}),r,null,[[0,10]])})))()},checkLoincInput:function(e){"object"!=Object(l["a"])(this.inputs[e].loincCode)&&(this.inputs[e].loincCode="")},clearQueryData:function(){this.inputs=[{name:"",loincCode:"",value:{fromValue:"",toValue:""}}],this.datasetsLoaded=!1},getColor:function(e){return e>=this.thresholdGoodValues?"green":e>=this.thresholdOkayValues?"orange":"red"},getColorForExpectedHits:function(e){return e>=this.thresholdExpectedHits?"green":"red"},getColorPerLoinc:function(e){return e>=this.thresholdGoodValuesPerLoinc?"green":e>=this.thresholdOkayValuesPerLoinc?"orange":"red"},toggleThreshold:function(){this.showThreshold=!this.showThreshold,this.overallExpectedHitThreshold=!1,this.overallExpectedHitsPerLoincThreshold=!1}},computed:{errorMessages:function(){return' <span style="font-size:14pt;font-weight:bold;"> '+this.errorTitle+" </span><br> "+this.errorDetail}}},C=V,T=(r("8acf"),r("8336")),S=r("b0af"),L=r("cc20"),O=r("62ad"),E=r("2b5d"),P=r("a523"),H=r("8fea"),I=r("169a"),R=r("ce7e"),N=r("553a"),D=r("4bd4"),Q=r("132d"),j=r("24c9"),A=r("a797"),F=r("490a"),q=r("0fd9"),B=r("8dd9"),G=r("3129"),M=r("ba0d"),$=r("2fa4"),K=r("b73d"),U=r("8654"),z=r("71d9"),J=r("2a7f"),W=Object(b["a"])(C,n,s,!1,null,null,null),X=W.exports;w()(W,{VBtn:T["a"],VCard:S["a"],VChip:L["a"],VCol:O["a"],VCombobox:E["a"],VContainer:P["a"],VDataTable:H["a"],VDialog:I["a"],VDivider:R["a"],VFooter:N["a"],VForm:D["a"],VIcon:Q["a"],VLabel:j["a"],VOverlay:A["a"],VProgressCircular:F["a"],VRow:q["a"],VSheet:B["a"],VSkeletonLoader:G["a"],VSlider:M["a"],VSpacer:$["a"],VSwitch:K["a"],VTextField:U["a"],VToolbar:z["a"],VToolbarTitle:J["a"]});var Y={name:"App",components:{QueryComponent:X},data:function(){return{dropdownSelection:{}}}},Z=Y,ee=r("7496"),te=r("40dc"),re=r("adda"),ae=r("f6c4"),oe=Object(b["a"])(Z,o,i,!1,null,null,null),ie=oe.exports;w()(oe,{VApp:ee["a"],VAppBar:te["a"],VBtn:T["a"],VIcon:Q["a"],VImg:re["a"],VMain:ae["a"],VSpacer:$["a"]});var ne=r("f309");a["a"].use(ne["a"]);var se=new ne["a"]({});a["a"].config.productionTip=!1,new a["a"]({vuetify:se,render:function(e){return e(ie)}}).$mount("#app")},"8acf":function(e,t,r){"use strict";r("ff71")},ff71:function(e,t,r){}});
//# sourceMappingURL=app.5e2b4b41.js.map